<div class="app-container">
  <app-headercadastrado></app-headercadastrado>

  <div class="content">
    <aside class="sidebar">
      <h3>Pesqueiros próximos de você</h3>

      @for (p of pesqueiros; track p.id) {
        <div
          class="list-item"
          (click)="selectPesqueiro(p.id)"
          [class.active]="selected.id === p.id"
        >
          <img [src]="p.imagens?.[0]" [alt]="p.nome" />
          <div class="meta">
            <strong>{{ p.nome }}</strong>
            <div class="rating">{{ p.avaliacao }}</div>
            <div class="photos">{{ p.fotos }} fotos ou mais</div>
          </div>
        </div>
      }
    </aside>

    <main class="main-panel">
      <h2>{{ selected.nome }}</h2>

      <div class="middle-row">
        <div class="image-box">
          <div class="carousel">
            @for (img of selected.imagens; track $index) {
              <img
                [src]="img"
                [class.active]="$index === 0"
                alt="foto do pesqueiro"
              />
            }
          </div>

          <div class="carousel-dots">
            @for (img of selected.imagens; track $index) {
              <span class="dot" [class.active]="$index === 0"></span>
            }
          </div>
        </div>

        <div class="address-box">
          <h4>Endereço do pesqueiro</h4>
          <div class="address">{{ selected.endereco }}</div>
        </div>
      </div>

      <section class="info">
        <h4>Informações do pesqueiro</h4>
        <div class="info-box">{{ selected.descricao }}</div>
      </section>

      <div class="map-button">
        <button (click)="abrirMapa()">Clique para ver no mapa</button>
      </div>
    </main>
  </div>
</div>
